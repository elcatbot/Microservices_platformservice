<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="900" height="360" viewBox="0 0 900 360">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="#333"/>
    </marker>
    <style>
      .box { fill:#f8f9fa; stroke:#333; stroke-width:1.5; rx:6; }
      .label { font: 14px Arial, Helvetica, sans-serif; fill:#111; }
    </style>
  </defs>

  <!-- Client -->
  <rect x="20" y="30" width="160" height="60" class="box" />
  <text x="100" y="68" text-anchor="middle" class="label">Client / UI</text>

  <!-- PlatformService -->
  <rect x="220" y="20" width="180" height="120" class="box" />
  <text x="310" y="44" class="label" text-anchor="middle">PlatformService</text>
  <text x="310" y="64" class="label" text-anchor="middle" font-size="12">REST / gRPC / Publisher</text>

  <!-- CommandsService -->
  <rect x="520" y="20" width="180" height="120" class="box" />
  <text x="610" y="44" class="label" text-anchor="middle">CommandsService</text>
  <text x="610" y="64" class="label" text-anchor="middle" font-size="12">Subscriber / REST</text>

  <!-- RabbitMQ -->
  <rect x="390" y="170" width="120" height="60" class="box" />
  <text x="450" y="205" class="label" text-anchor="middle">RabbitMQ</text>

  <!-- Databases -->
  <rect x="220" y="170" width="140" height="60" class="box" />
  <text x="290" y="205" class="label" text-anchor="middle">Platform DB</text>

  <rect x="520" y="170" width="140" height="60" class="box" />
  <text x="590" y="205" class="label" text-anchor="middle">Commands DB</text>

  <!-- Arrows -->
  <line x1="180" y1="60" x2="220" y2="60" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="400" y1="140" x2="400" y2="170" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="400" y1="230" x2="560" y2="230" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="400" y1="60" x2="520" y2="60" stroke="#333" stroke-width="2" marker-end="url(#arrow)" stroke-dasharray="6 4" />

  <!-- Labels on arrows -->
  <text x="200" y="48" class="label">HTTP / gRPC</text>
  <text x="410" y="150" class="label">publish</text>
  <text x="470" y="242" class="label">deliver</text>
  <text x="360" y="52" class="label" font-size="12">sync call (optional)</text>
</svg>
